{% extends "base.jinja" %} {% block css %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %} {% block subtitle %}- Todo{% endblock %} {% block sidebar %} {%
include "sidebar.html"%}
<div class="vr"></div>
{% endblock %} {% block content %}
<div class="d-flex flex-column vw-100 bg-white p-5" style="height: 100vh">
  <section>
    <div class="d-flex justify-content-between">
		  <h3 class="fs-3 lead">Todo</h3>
      <button
        class="btn btn-primary mx-2 btn-md"
        data-bs-toggle="modal"
        data-bs-target="#createTask"
        type="button"
      >
        + Task
      </button>
    </div>

    <div
      class="modal fade"
      id="createTask"
      tabindex="-1"
      aria-labelledby="createTaskLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="createTaskLabel">Creating Task</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <h4>
              <strong
                >Please insert the data of the task you gonna create!</strong
              >
            </h4>
            <form method="POST" id="create-task-form">
              {{ form.csrf_token }}
              <div class="mb-1">
                {{ form.task.label(class="form-label text-primary") }}
                {{ form.task(class="form-control", placeholder="Type the task name") }}
                {% if form.task.errors %}
                  <ul class="errors">
                    {% for error in form.task.errors %}
                      <li>error</li>
                    {% endfor %}  
                  </ul>
                {% endif %}
                
              </div>
              <div class="mb-1">
                {{ form.task_description.label(class="form-label text-primary") }}
                {{ form.task_description(class="form-control", placeholder="Type the task description") }}
                {% if form.task_description.errors %}
                  <ul class="errors">
                    {% for error in form.task_description.errors %}
                      <li>error</li>
                    {% endfor %}  
                  </ul>
                {% endif %}
              </div>
              <div class="modal-footer">
                {{ form.submit(class="btn btn-primary") }}
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <ul class="nav nav-tabs mb-4" id="tabMenu">
      <li class="nav-item" role="presentation">
        <a
          class="nav-link active"
          id="todo-all-tab"
          data-bs-toggle="tab"
          aria-current="page"
          href="#todo-all-tab-content"
          >All</a
        >
      </li>
      <li class="nav-item" role="presentation">
        <a
          class="nav-link"
          id="todo-active-tab"
          data-bs-toggle="tab"
          aria-current="page"
          href="#todo-active-tab-content"
          >Active</a
        >
      </li>
      <li class="nav-item" role="presentation">
        <a
          class="nav-link"
          id="todo-done-tab"
          data-bs-toggle="tab"
          aria-current="page"
          href="#todo-done-tab-content"
          >Done</a
        >
      </li>
    </ul>
    <div class="tab-content" id="tab-content">
      <div
        class="tab-pane fade show active"
        id="todo-all-tab-content"
        role="tabpanel"
        aria-labelledby="todo-all-tab"
        tabindex="0"
      >
        <ul class="list-group list-group-flush" id="todo-all-list"></ul>
      </div>
      <div
        class="tab-pane fade"
        id="todo-active-tab-content"
        role="tabpanel"
        aria-labelledby="todo-active-tab"
        tabindex="0"
      >
        <ul class="list-group list-group-flush" id="todo-active-list"></ul>
      </div>
      <div
        class="tab-pane fade"
        id="todo-done-tab-content"
        role="tabpanel"
        aria-labelledby="todo-done-tab"
        tabindex="0"
      >
        <ul class="list-group list-group-flush" id="todo-done-list"></ul>
      </div>
    </div>
  </section>
</div>
{% endblock %} 
{% block javascript_pre_bundle %}
<script>
  const tasksJson = {{ tasks|tojson }};
</script>
{% endblock %}
